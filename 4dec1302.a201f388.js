(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{150:function(e,n,a){"use strict";a.r(n),a.d(n,"frontMatter",(function(){return o})),a.d(n,"metadata",(function(){return p})),a.d(n,"rightToc",(function(){return c})),a.d(n,"default",(function(){return l}));var t=a(1),r=a(9),i=(a(0),a(182)),o={id:"adding_new_packages",title:"Adding new apps/packages"},p={id:"adding_new_packages",title:"Adding new apps/packages",description:"So now that we are ready to start developing our application, it's time to extend our codebase and add new parts to it!",source:"@site/docs/adding_new_packages.md",permalink:"/docs/adding_new_packages",editUrl:"https://github.com/CantaraJS/cantara/edit/master/docs/docs/adding_new_packages.md",sidebar:"main",previous:{title:"Developing your app",permalink:"/docs/developing"},next:{title:"Testing with Jest",permalink:"/docs/testing_with_jest"}},c=[{value:"Using Cantara's <code>new</code> command",id:"using-cantaras-new-command",children:[]},{value:"Adding parts <em>manually</em> by creating the respective files yourself",id:"adding-parts-manually-by-creating-the-respective-files-yourself",children:[]},{value:"Serverless/NodeJS package dependencies",id:"serverlessnodejs-package-dependencies",children:[]},{value:"Notes on folders and package names",id:"notes-on-folders-and-package-names",children:[]}],s={rightToc:c};function l(e){var n=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(t.a)({},s,a,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"So now that we are ready to start developing our application, it's time to extend our codebase and add new parts to it!"),Object(i.b)("p",null,"There are essentially two possible ways to add new apps/packages to your project:"),Object(i.b)("h2",{id:"using-cantaras-new-command"},"Using Cantara's ",Object(i.b)("inlineCode",{parentName:"h2"},"new")," command"),Object(i.b)("p",null,"This is the easier of way of adding new apps/packages to your project. The new command has the following syntax:"),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-bash"}),"ctr new <react-app|node-app|serverless|js-package|react-component> <new-name>\n")),Object(i.b)("p",null,"The first parameter specifies what you want to add to your repo:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"A new React application (",Object(i.b)("inlineCode",{parentName:"li"},"/react-apps"),")"),Object(i.b)("li",{parentName:"ul"},"A new NodeJS application (",Object(i.b)("inlineCode",{parentName:"li"},"/node-apps"),")"),Object(i.b)("li",{parentName:"ul"},"A new serverless endpoint (",Object(i.b)("inlineCode",{parentName:"li"},"/node-apps"),")"),Object(i.b)("li",{parentName:"ul"},"A new JS package (",Object(i.b)("inlineCode",{parentName:"li"},"/packages"),")"),Object(i.b)("li",{parentName:"ul"},"A new React Component (",Object(i.b)("inlineCode",{parentName:"li"},"/packages"),")")),Object(i.b)("p",null,"As the second parameter, specify give it a name."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example"),": Adding a new React component named ",Object(i.b)("inlineCode",{parentName:"p"},"awesome-image-viewer")," as a re-usable NPM package to your project would look like this:"),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-bash"}),"ctra new react-component awesome-image-viewer\n")),Object(i.b)("h2",{id:"adding-parts-manually-by-creating-the-respective-files-yourself"},"Adding parts ",Object(i.b)("em",{parentName:"h2"},"manually")," by creating the respective files yourself"),Object(i.b)("p",null,"To add a new package/Node app/React app to your project, simply create a new folder either under ",Object(i.b)("inlineCode",{parentName:"p"},"node-apps"),", ",Object(i.b)("inlineCode",{parentName:"p"},"packages")," or ",Object(i.b)("inlineCode",{parentName:"p"},"react-apps")," and create a ",Object(i.b)("inlineCode",{parentName:"p"},"src")," folder. Depending if it is a React app/component or not, create a new file ",Object(i.b)("inlineCode",{parentName:"p"},"index.ts")," / ",Object(i.b)("inlineCode",{parentName:"p"},"index.tsx")," in the ",Object(i.b)("inlineCode",{parentName:"p"},"src")," directory. For new serverless endpoints, you also need to create a ",Object(i.b)("inlineCode",{parentName:"p"},"handler.js")," and a ",Object(i.b)("inlineCode",{parentName:"p"},"serverless.main.yml")," file (but not under ",Object(i.b)("inlineCode",{parentName:"p"},"src"),", one layer above). And that's it, now you are ready to go!"),Object(i.b)("p",null,"Now, that you've create a new package or app, you can start using it straight away.\nFor packages, just ",Object(i.b)("inlineCode",{parentName:"p"},"import")," them into your apps.\nFor applications, start the development using the ",Object(i.b)("inlineCode",{parentName:"p"},"dev")," command."),Object(i.b)("h2",{id:"serverlessnodejs-package-dependencies"},"Serverless/NodeJS package dependencies"),Object(i.b)("p",null,"Due to internal limitations, when you intend to use a package in a serverless/NodeJS app, make sure that all of the package dependencies are also installed in that application. E.g. if you have a package called ",Object(i.b)("inlineCode",{parentName:"p"},"logger")," which is used in a NodeJS app called ",Object(i.b)("inlineCode",{parentName:"p"},"api")," and ",Object(i.b)("inlineCode",{parentName:"p"},"logger")," has a dependency called ",Object(i.b)("inlineCode",{parentName:"p"},"winston"),", make sure ",Object(i.b)("inlineCode",{parentName:"p"},"winston")," is also installed in ",Object(i.b)("inlineCode",{parentName:"p"},"api"),"."),Object(i.b)("h2",{id:"notes-on-folders-and-package-names"},"Notes on folders and package names"),Object(i.b)("p",null,"When creating a new package, it must not reside in a subfolder, meaning that the ",Object(i.b)("inlineCode",{parentName:"p"},"src")," folder must be directly in the ",Object(i.b)("inlineCode",{parentName:"p"},"your-package-name")," folder. When first starting Cantara and your package has no ",Object(i.b)("inlineCode",{parentName:"p"},"package.json")," yet, the ",Object(i.b)("inlineCode",{parentName:"p"},"name")," field in the ",Object(i.b)("inlineCode",{parentName:"p"},"package.json")," file is derived from the foldername. To rename the package, simply change the ",Object(i.b)("inlineCode",{parentName:"p"},"name")," field. If you e.g. want to assign it a name so that it's organization scoped, set it to ",Object(i.b)("inlineCode",{parentName:"p"},"@my-org/package-name"),"."))}l.isMDXComponent=!0},182:function(e,n,a){"use strict";a.d(n,"a",(function(){return d})),a.d(n,"b",(function(){return u}));var t=a(0),r=a.n(t);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function p(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function c(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=r.a.createContext({}),l=function(e){var n=r.a.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):p({},n,{},e)),a},d=function(e){var n=l(e.components);return r.a.createElement(s.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},m=Object(t.forwardRef)((function(e,n){var a=e.components,t=e.mdxType,i=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=l(a),m=t,u=d["".concat(o,".").concat(m)]||d[m]||b[m]||i;return a?r.a.createElement(u,p({ref:n},s,{components:a})):r.a.createElement(u,p({ref:n},s))}));function u(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=a.length,o=new Array(i);o[0]=m;var p={};for(var c in n)hasOwnProperty.call(n,c)&&(p[c]=n[c]);p.originalType=e,p.mdxType="string"==typeof e?e:t,o[1]=p;for(var s=2;s<i;s++)o[s]=a[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);